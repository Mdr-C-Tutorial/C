# 执行控制函数

C标准库提供了一系列用于程序执行控制的函数，这些函数主要定义在 `stdlib.h` 头文件中。主要包括程序终止、系统命令执行以及环境控制等功能。

## 程序终止函数

### `atexit` 函数

```c
int atexit( void (*func)(void) );
```

### `at_quick_exit` 函数

```c
int at_quick_exit( void (*func)(void) );  // C11 起
```

### `exit` 函数

```c
void exit(int exit_code);  // c11 前
_Noreturn void exit( int exit_code );  // C11 / C17
[[noreturn]] void exit( int exit_code );  // C23 起
```

其中，`exit_code` 参数表示程序是否成功终止。以 `0` 或 `EXIT_SUCCESS` 表示成功，`EXIT_FAILURE` 表示失败。

该函数用于正常终止程序执行。会进行以下几个步骤的清理：

1. 逆序调用注册给 `atexit()` 的函数。
2. 刷新并关闭所有流。
3. 删除 `tmpfile()` 创建的临时文件。

在 `main()` 函数返回时，会执行 `exit()`，其中参数 `exit_code` 为 `return` 后表达式的值（如果执行到末尾则为 `0`）。

### `quick_exit` 函数

```c
_Noreturn void quick_exit( int exit_code );  // C11 / C17
[[noreturn]] void quick_exit( int exit_code );  // C23 起
```

### `abort` 函数

```c
void abort(void);
_Noreturn void abort(void);  // C11 / C17
[[noreturn]] void abort(void);  // C23 起
```
