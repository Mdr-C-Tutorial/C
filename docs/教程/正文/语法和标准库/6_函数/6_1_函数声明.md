# 函数声明

函数声明用于告诉编译器：某个函数的名字、返回类型和形参类型是什么。它是跨翻译单元协作的接口契约，不是可有可无的注释。

## 1. 声明与定义

函数定义提供实现，函数声明提供接口。一个函数可以声明多次，但定义通常只有一次。把声明放进头文件，把定义放进 `.c` 文件，是最稳定的组织方式。

```c
/* math_ext.h */
#ifndef MATH_EXT_H
#define MATH_EXT_H

double add(double lhs, double rhs);

#endif
```

```c
/* math_ext.c */
#include "math_ext.h"

double add(double lhs, double rhs) {
    return lhs + rhs;
}
```

## 2. 为什么原型重要

函数原型让编译器在调用点执行类型检查，提前发现实参类型不匹配问题。缺少原型时，历史兼容规则会引入默认提升，错误往往延迟到运行期。

## 3. 链接属性

函数若需要跨文件可见，按默认外部链接即可；若只在当前翻译单元使用，声明为 `static` 更稳妥。

```c
static int helper(int x) {
    return x * x;
}
```

这样可以避免内部实现细节暴露到全局符号表。

## 4. 实践建议

头文件中的声明应保持最小且稳定，避免把内部依赖泄露给调用方。接口一旦发布，就应把“向后兼容”当作设计约束，而不是临时修补。
